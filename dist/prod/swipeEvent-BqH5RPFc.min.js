Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var o=Object.keys(Object(a)),r=0,s=o.length;r<s;r++){var m=o[r],c=Object.getOwnPropertyDescriptor(a,m);void 0!==c&&c.enumerable&&(n[m]=a[m])}}return n}}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}();let e=function(e,t){(t=Object.assign({},{minDist:60,maxDist:120,maxTime:700,minTime:5},t)).maxTime<t.minTime&&(t.maxTime=t.minTime+500),(t.maxTime<100||t.minTime<5)&&(t.maxTime=100,t.minTime=5);var n,i,a,o=!1,r=!1,s=0,m=0,c=0,u=0,v=0,l=!1,d=!(!("PointerEvent"in window)&&!("msPointerEnabled"in window.navigator)),b=!(!("ontouchstart"in window)&&!navigator.maxTouchPoints),p=function(e){return e.changedTouches?e.changedTouches[0]:e},h=function(s){if(!o||r){var c=(new Date).getTime()-v;if(c>=t.minTime&&c<=t.maxTime&&(Math.abs(m)>=t.minDist&&Math.abs(u)<=t.maxDist||Math.abs(u)>=t.minDist&&Math.abs(m)<=t.maxDist)&&(i=n),a="left"===n||"right"===n?Math.abs(m):Math.abs(u),!l&&"none"!==i&&a>=t.minDist){l=!0;var d=new CustomEvent("swipe",{bubbles:!0,cancelable:!0,detail:{full:s,dir:i,dist:a,time:c}});e.dispatchEvent(d)}}else r=!1},f=d?{type:"pointer",start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel",leave:"pointerleave"}:b?{type:"touch",start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}:{type:"mouse",start:"mousedown",move:"mousemove",end:"mouseup",leave:"mouseleave"};(d&&!b||"mouse"===f.type)&&(o=!0),e.addEventListener(f.start,(function(e){var t=p(e);b&&void 0!==e.touches&&1!==e.touches.length||(n="none",i="none",a=0,s=t.pageX,c=t.pageY,v=(new Date).getTime(),l=!1,o&&(r=!0))})),e.addEventListener(f.move,(function(e){if(!o||r){var t=p(e);m=t.pageX-s,u=t.pageY-c,n=Math.abs(m)>Math.abs(u)?m<0?"left":"right":u<0?"up":"down"}})),e.addEventListener(f.end,h),d&&b&&e.addEventListener("lostpointercapture",h)};export{e as swipe};
