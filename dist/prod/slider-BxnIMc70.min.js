import{getDeviceType as e}from"./devices-CLYmANtz.min.js";class t{constructor(e){const t={target:!1,devices:"desktop,mobile,tablet",selectors:{slides:!1,slidesContainer:'[qc-slider="content-parent"]',swipeArea:!1,paginationContainer:!1,markers:!1,markersActiveClass:".active",leftArrow:'[qc-slider="left-arrow"]',rightArrow:'[qc-slider="right-arrow"]'},animation:{delay:0,duration:.2,ease:"power1.inOut"},behavior:{swipe:!1,pagination:!1,infinity:!1},onStart:!1,onComplete:!1,usePreset:!1,useCustom:!1};this.options={...t,...e,selectors:{...t.selectors,...e.selectors},animation:{...t.animation,...e.animation},behavior:{...t.behavior,...e.behavior}},this.deviceControl()&&this.init()}deviceControl(){const t=this.options.devices.split(","),i=e();return t.includes(i)}async init(){const e=this.options.behavior.swipe,t=this.options.behavior.infinity,i=this.options.behavior.pagination,o=document.querySelector(`${this.options.target}`),s=o.querySelector(`${this.options.selectors.slidesContainer}`),r=o.querySelectorAll(`${this.options.selectors.slides}`).length>0?o.querySelectorAll(`${this.options.selectors.slides}`):s.children,n=o.querySelector(`${this.options.selectors.leftArrow}`),l=o.querySelector(`${this.options.selectors.rightArrow}`),a=i?o.querySelector(`${this.options.selectors.paginationContainer}`):null;let c=i?o.querySelector(`${this.options.selectors.markers}`)||a?.querySelector(":scope > *"):null;const p=i?this.options.selectors.markersActiveClass.slice(1):null,u=e?o.querySelector(`${this.options.selectors.swipeArea}`)||s.parentNode:null,d=this.options.animation.duration,h=this.options.animation.delay,q=this.options.animation.ease,y=this.options.useCustom,m=this.options.usePreset,S=this.options.onStart,g=this.options.onComplete,v=r.length;let w=0;const k=-(r[0].offsetWidth+parseInt(getComputedStyle(r[0],!0).marginRight));if(i)if(v<=1)gsap.set(a,{opacity:0,pointerEvents:"none"});else{for(let e=1;e<v;e++){let e=c.cloneNode(!1);a.append(e)}c.classList.add(p),c=a.querySelectorAll(":scope > *")}if(!y)for(let e=1;e<v;e++)"classic.opacity"==m&&gsap.set(r[e],{opacity:.4});const x=(e,t)=>{w+=e,(e=>{e%=v;for(let t=0;t<v;t++)r[(e+t)%v].setAttribute("quick-index",t)})(w);const o=s.querySelector('[quick-index="0"]'),n=t>0?s.querySelector(`[quick-index="${v-1}"]`):s.querySelector('[quick-index="1"]'),l=t>0?s.querySelector('[quick-index="1"]'):s.querySelector(`[quick-index="${v-1}"]`),a=t>0?s.querySelector(`[quick-index="${v-2}"]`):s.querySelector('[quick-index="2"]'),u=t>0?s.querySelector('[quick-index="2"]'):s.querySelector(`[quick-index="${v-2}"]`),x={get currentSlide(){return o},get previousSlide(){return n},get nextSlide(){return l},get previousSlide2(){return a},get nextSlide2(){return u},get direction(){return t}};y?y({qcApi:x}):"classic.opacity"==m?(gsap.to(s,{delay:h,ease:q,duration:d,x:w*k}),gsap.to(o,{overwrite:!0,delay:h,ease:"power1.inOut",duration:d,opacity:1}),gsap.to(n,{overwrite:!0,delay:h,ease:"power1.inOut",duration:d,opacity:.4,onStart:S?S({qcApi:x}):null,onComplete:g?g({qcApi:x}):null})):gsap.to(s,{delay:h,ease:q,duration:d,x:w*k,onStart:S?S({qcApi:x}):null,onComplete:g?g({qcApi:x}):null}),i&&(c[w].classList.add(p),c[w-e].classList.remove(p))},A=e=>{1===e?w<v-1?x(1,e):t&&x(-w,e):-1===e&&(w>0?x(-1,e):t&&x(v-1-w,e))};l&&l.addEventListener("click",(()=>A(1))),n&&n.addEventListener("click",(()=>A(-1)));if(1==e){const{swipe:e}=await import("./swipeEvent-BqH5RPFc.min.js");e(u,{maxTime:2e3,minTime:10,maxDist:2e3,minDist:10}),u.addEventListener("swipe",(e=>{var i;"left"==(i=e).detail.dir?w<v-1?x(1,1):t&&x(-w,1):"right"==i.detail.dir&&(w>0?x(-1,-1):t&&x(v-w,-1))}))}}}export{t as Slider};
